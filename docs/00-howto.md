# HOWTO — как мы работаем (процесс + трассируемость)

## 0. Зачем
Мы строим процесс, в котором любой результат (код, документ, решение, эксперимент, диалог) можно:
- объяснить (почему это делаем),
- проверить (как мы понимаем «готово»),
- воспроизвести (как повторить/запустить),
- защитить (какие риски/компромиссы приняты).

Ключевой принцип — **трассируемость сверху вниз**.

## 1. Главный принцип: трассируемость
Любой артефакт должен быть связан с цепочкой:
1) **Vision & Values** (`docs/10-vision.txt`) — зачем мы существуем, какие принципы не нарушаем.
2) **Strategy** (`docs/30-strategy.md`) — как именно выигрываем (ставки, аудитория, фокус, анти‑фокус).
3) **Roadmap** (`docs/40-roadmap.md`) — что поставляем по этапам, с метриками успеха.
4) **Product / Initiative (PRD)** (`docs/70-prd/PRD-xxx.md`) — конкретная единица результата.
5) **Regulations / Standards** (`docs/80-standards/*`) — «как делаем» (качество, безопасность, архитектура).
6) **Delivery Artifacts** — итог: код/инфра/доки/релиз/эксперимент.
7) **Evidence** — доказательства: тесты, метрики, логи, ссылки на обсуждения, ADR.

### 1.1. Минимальный «Trace footer» (обязателен)
В каждом значимом артефакте (PR, issue, ADR, PRD, doc) должно быть 2 строки:
- `Trace: VIS-xxx -> STR-xxx -> RM-xxx -> PRD-xxx -> ADR-xxx`
- `Evidence: tests + metrics + logs + checklist (ссылки)`

Если какого-то звена пока нет — явно пишем `TBD`.

## 2. Идентификаторы (чтобы связность была механикой, а не памятью)
Вводим короткие ID:
- `VIS-###` — ценности/принципы и важные элементы Vision.
- `STR-###` — стратегические ставки.
- `RM-###` — элементы roadmap.
- `PRD-###` — продуктовые инициативы.
- `ADR-###` — архитектурные решения.

Правило: **любой PR/изменение с “влиянием” обязано содержать минимум 1 ID**.

## 3. Definition of Done (DoD)
Работа считается готовой только если:
1) Есть `Trace` до цели (и цель сформулирована).
2) Есть критерии приемки (acceptance criteria) и они закрыты.
3) Есть **Evidence** (тесты/проверки/логи/метрики) и понятно как это повторить.
4) Обновлены документы, если изменилось поведение/контракты/архитектура.
5) Риски и долги зафиксированы (если появились).

## 4. Рабочий цикл (ритуал)

### 4.1. Pre‑flight (до начала)
Перед работой:
- сверяемся с `docs/10-vision.txt` (какие `VIS-###` поддерживаем),
- проверяем стратегию/roadmap (если существует),
- фиксируем, какой PRD/инициатива делается (или создаем PRD),
- определяем нормы/стандарты, которые применимы,
- формулируем DoD и Evidence plan.

### 4.2. Execution (в процессе)
- делаем маленькими инкрементами,
- каждое значимое решение фиксируем (в PRD/ADR/issue),
- держим “evidence-first”: тест/проверка/метрика как часть выполнения, а не «потом».

### 4.3. Review (перед сдачей)
- проверяем трассировку и DoD,
- убеждаемся, что изменения воспроизводимы,
- фиксируем последствия (что стало проще/сложнее, что подорожало/удешевело).

## 5. Протокол отклонений (Deviation protocol)
Если нужно отступить от Vision/стратегии/норм:
1) Явно помечаем: **ОТКЛОНЕНИЕ**.
2) Причина: почему без отклонения хуже/дороже/дольше.
3) Альтернативы: какие варианты рассмотрели.
4) Цена: риск/долг/компромисс.
5) План возврата: когда/как вернемся к норме (или узаконим новую норму).
6) Фиксация: в `ADR` или в PRD/issue (в зависимости от масштаба).

## 6. Когда нужен ADR
Пишем ADR, если меняется хотя бы одно:
- модель данных/схема,
- публичный API/контракт,
- безопасность/права доступа,
- стоимость инфраструктуры/лицензии или SLA,
- фундаментальная технология/подход.

## 7. Набор опорных документов (скелет)
Минимально поддерживаем:
- `docs/10-vision.txt` — видение и ценности.
- `docs/30-strategy.md` — стратегия.
- `docs/40-roadmap.md` — дорожная карта.
- `docs/70-prd/` — PRD инициатив.
- `docs/90-adr/` — ADR решений.
- `docs/80-standards/` — стандарты (качество, безопасность, архитектура, релизный процесс).

> Можно начинать с пустых файлов-шаблонов. Важно, чтобы цепочка существовала и постепенно заполнялась.

## 8. Типовой сценарий №1: «от ценностей к деятельности -> стратегии -> роадмапу -> плану -> требованиям к продуктам -> упаковке в компанию»

### Выходы сценария (что должно появиться в репозитории)
- Vision & Values: `docs/10-vision.txt` (с нумерацией `VIS-###`).
- Карта деятельности (типы деятельности): `docs/20-activity-map.md`.
- Strategy: `docs/30-strategy.md` (ставки `STR-###`).
- Roadmap: `docs/40-roadmap.md` (этапы `RM-###`).
- План на период (например, 2–4 недели): `docs/50-plan.md`.
- PRD на каждую инициативу: `docs/70-prd/PRD-###.md`.
- Упаковка (как превращаем в компанию/форму): `docs/60-company-packaging.md`.

### Шаги сценария
1) **Фиксируем ценности и запреты (VIS)**
   - формируем 5–12 ценностей/принципов (коротко),
   - добавляем “non‑negotiables” (что нельзя делать никогда),
   - вводим нумерацию `VIS-###`.

2) **Определяем типы деятельности (Activity map)**
   Примеры типов деятельности (можно переименовать под себя):
   - Discovery/Research (гипотезы, интервью, аналитика)
   - Product (PRD, UX, приоритизация)
   - Engineering (разработка, архитектура, качество)
   - GTM/Sales (каналы, позиционирование, продажи)
   - Operations (поддержка, процессы, финансы)

   Для каждого типа:
   - цель,
   - входы/выходы,
   - метрика успеха,
   - типовые артефакты,
   - стандарты качества.

3) **Стратегия (STR)**
   - выбираем 1–3 ставки,
   - определяем аудиторию,
   - фиксируем фокус и анти‑фокус,
   - определяем метрики успеха.

4) **Roadmap (RM)**
   - превращаем стратегию в этапы,
   - на каждый этап — outcome/метрика и ограничение по времени.

5) **План на период**
   - что делаем в ближайшие 2–4 недели,
   - критерии «готово»,
   - риски,
   - зависимости.

6) **PRD на инициативы**
   - каждая ключевая работа оформляется как PRD,
   - PRD ссылается на Vision/Strategy/Roadmap.

7) **Упаковка в компанию / форму**
   - позиционирование,
   - ценностное предложение,
   - минимальная продуктовая линейка,
   - каналы,
   - финансовая модель (минимально),
   - операционные контуры (поддержка, релизы, качество).

## 9. Шаблоны (копируй и заполняй)

### 9.1. Шаблон PRD (one‑pager)
```text
Title: PRD-### <название>
Trace: VIS-??? -> STR-??? -> RM-???

Problem:
Goal (what outcome):
Non-goals:
Users / ICP:
Proposed solution:
Acceptance criteria:
Success metrics:
Risks / trade-offs:
Milestones:
Evidence plan:
Links:
```

### 9.2. Шаблон ADR
```text
Title: ADR-### <название>
Trace: VIS-??? -> STR-??? -> RM-??? -> PRD-???

Context:
Decision:
Alternatives considered:
Consequences:
Evidence / validation:
Links:
```

### 9.3. Шаблон standards (норма)
```text
Title: STD-### <название>
Scope:
Rule:
Rationale:
How to verify:
Exceptions (if any):
```
